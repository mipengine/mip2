<!DOCTYPE html>
<html mip>
<head>
    <meta charset="utf-8">
  <title>MIP tree demo</title>
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="format-detection" content="telephone=no">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

  <!-- <meta charset="utf&#45;8"> -->
  <!-- <meta name="viewport" content="width=device&#45;width,minimum&#45;scale=1,initial&#45;scale=1"> -->
  <!-- <title>MIP Bind</title> -->
  <!-- <link rel="canonical"> -->
  <!-- <link rel="stylesheet" href="https://c.mipcdn.com/static/v2/mip.css"> -->
  <!-- <link rel="stylesheet" href="../../dist/mip.css"> -->
<style mip-custom>
  .custom-show {
    display: block;
  }

  .custom-hide {
    display: none;
  }
</style>
</head>
<body>
  <mip-img
    src="https://www.gstatic.com/webp/gallery/3.jpg"
    width="300"
    height="200"
  ></mip-img>
  <mip-data>
    <script type="application/json">
      {
        "color": {
          "silver": 0,
          "grey": ['c', 'b', 'a'],
          "yellow": [3, 2, 1]
        },
        "size": {
          "small": 0,
          "big": 'big'
        },
        "urls": [
          "https://www.gstatic.com/webp/gallery/1.jpg",
          "https://www.gstatic.com/webp/gallery/2.jpg",
          "https://www.gstatic.com/webp/gallery/3.jpg"
        ],
        "index": 0,
        "url": "https://www.gstatic.com/webp/gallery/1.jpg",
        "show": true,
        "fontSize": 13,
        "activeColor": "red",
        "styleObject": {
          "color": "red",
          "fontSize": "13px"
        },
        "baseStyles": {
          "color": "red",
          "fontSize": "13px"
        },
        "overridingStyles": {
          "color": "blue"
        }
      }
    </script>
  </mip-data>
  <div>
    <p>color.silver: <span m-text="color.silver"></span></p>
    <p>color.grey[0]: <span m-text="color.grey[color.silver]"></span></p>
    <p>color.yellow[0]: <span m-text="color.yellow[0]"></span></p>
    <p>size.big: <span m-text="size.big"></span></p>
    <p>size.small: <span m-text="size.small"></span></p>
    <button on="
      tap:
      MIP.setData({
        color: {
          'silver': color.silver + 1,
          'yellow': color.grey.sort()
        }
      })
      "
    >change color</button>
    <button
      on="
          tap:
            MIP.setData({
              size: {
                big: color.silver,
                small: m.color.silver + 10086
              }
            })
      "
    >set color.silver to size.big</button>
  </div>

  <br>
  <br>

  <div>
    <p>当前 url: <span m-text="urls[index]"></span></p>
    <button
      on="tap:MIP.setData({index:(m.index+1)===m.urls.length?0:(m.index+1)})
     "
    >修改显示图片序号: <span m-text="index"></span></button>
    <br>
    <button
      on="tap:MIP.setData({'styleObject': null})"
      >修改清除文字样式</button>
    <div m-bind:style="styleObject">文字文字</div>
    <button
      on="tap:MIP.setData({show:!m.show})"
      m-text="show ? '隐藏' : '显示'"
      ></button>
    <mip-img
      id="img-1"
      m-bind:src="urls[index]"
      m-bind:class="[show ? 'custom-show' : 'custom-hide']"
    ></mip-img>
  </div>
  <br>
  <br>
  <!-- <script src="https://c.mipcdn.com/static/v2/mip.js"></script> -->
  <script src="../../dist/mip.js"></script>
</body>
</html>


