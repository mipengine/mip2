<!DOCTYPE html>
<html mip>

<head>
    <meta charset="utf-8">
    <title>MIP Data Page</title>
    <meta name="keywords" content="vue,mip,store">
    <meta name="description" content="mip-store">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style mip-custom>
    .main-content .link {
        text-align: center;
        margin-top: 20px;
        display: block;
    }
    .main-content p,
    .main-content .button {
        width: 150px;
        display: inline-block;
        margin: 20px 0 0 20px;
    }
    </style>
    <style>
    body:first-of-type::before {
        display: block;
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #fff;
        z-index: 99999;
    }
    body:first-of-type::after {
        content: '';
        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAABFCAMAAAArU9sbAAAAllBMVEUAAAA5kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv85kv98v3f9AAAAMXRSTlMA+u4H8xwSDeG7KBapjYhP28EE9jfmpJoxItOALLFuQcxrZOrXdnPHVDyVe11aSIN5drPNPgAAAx5JREFUWMOlmOl2qlAMhbcyySCiBUFRUazzVXve/+Vuk2NZTgwHvx+uVjBk2MmJopxRkvvecBn0gqXt+ecZ1DEW8654ZO3lLhTQznZHvKNj70dohrWNRDm9rYZ6Rqsiki/7uBhkiZNkg208LLyL/qGOcCkk39eD9hhm5veEZDirdsS/eRGHby9nY+lRZ1VVmJ200XfLb4mlnbmJEhzpsWegCseWEZfcFXJau3vUkX9xsZy3RvjaboJ6Zt/8vNmbK+zJWGsmKZvF/PJEg3PSb6zuMd0emE/v7hSMMGxmjgf6HI5Sr3FQC9yRsSI1qGBNSX7OnSbpjbUBNRydHo2CDbkygCo5faxoTVfnpKgzpA7XIKEW1F2oM6OeWoExyZUr2hBTJ4xALFq5wkzIGdl40xe9qWlvzsFRph20IyPNUBzp7x9LtGRE7ZcD2LGQW8L19QCLEjRBWw6keuBCxUJrRjTbZliwS+0Zchccf19PaA1/3ofNumnPimMJfl9DtGfA46HLJWpPSGcTqNAmKnCT6r7mGpP+raqG64qxW2uFxoKBcjw6vxYjlJHQiYKophfngliGVeJdgg7LqsgtXy4JsVlRI9beoMmSsM7L9cJDb1OniUAQO+nz63mYYttk/msnnVeo/ms1ydEzLpzjWgxPENH5uad1zqspuNT1ZFNB2M5LibojObxzNN9hO/59WOltfPtcqka4sVyci5pKH1bcTgr9mOzkhvl3f1LkI+BaNeVfxMtsqhWHow3ihxJkoSlWn8UcXCjEr2JrcPVX4TURs2fAv1sa+uSMCQWkmPUrubIFI/06QgXtxNvxQy58+vcAFVjMj/uhFZEKTKhxJiNT7WFIkATVMH396fgYqy7NjHk9PYqAvx/84EMc7rQNPiT8kkF9yKBTfJP73EzvgM/IuoKI3Wq5pW5NiqfyzNhY5cVNdbHe17RHfGuO1MA7Jn1dtrNWk5zo73eJ3Hg2sRgKSZA1G0JMMN4MQscwzUm4//F64oZ+0lCPS26X0k2basHcTEtsLFcWFEj86auJ1IEy5mUbD4NIF3r0bR+3lwov/gPz4J/MfidXggAAAABJRU5ErkJggg==);
        background-size: 100% 100%;
        width: 34px;
        height: 34px;
        position: fixed;
        top: 50%;
        left: 50%;
        margin: -17px 0 0 -17px;
        z-index: 100000;
        animation: loading-rotate 1s linear infinite
    }

    @keyframes loading-rotate {
        from {
            transform: rotate(0deg)
        }
        to {
            transform: rotate(360deg)
        }
    }
    </style>
</head>

<body>
    <mip-data>
        <script type="application/json">
            {
                "num": 1,
                "title": "Apple/苹果 iPhone X",
                "basePrice": "9688.00",
                "price": "9688.00",
                "#comments": 5855,
                "integral": 968,
                "network": {
                    "nocontract": 1
                },
                "color": {
                    "silver": 0,
                    "grey": 1
                },
                "#size": {
                    "small": 0,
                    "big": 1
                },
                "staging": {
                    "three": 0,
                    "six": 0,
                    "twelve": 0
                },
                "#sp": {
                    "three": "¥3303.60",
                    "six": "¥1687.32",
                    "twelve": "¥867.88"
                },
                "img": {
                    "first": 0,
                    "second": 0,
                    "third": 0,
                    "four": 0,
                    "five": 0
                },
                "time": 1,
                "src": "https://img.alicdn.com/bao/uploaded/i4/1917047079/TB2ZpydmPihSKJjy0FeXXbJtpXa_!!1917047079.png_430x430q90.jpg"
            }
        </script>
    </mip-data>
    <mip-data src="./data/testData.json"></mip-data>
    <mip-data>
        <script type="application/json">
            {
                "userInfo": {
                    "name": "sfe",
                    "age": 5,
                    "members": []
                }
            }
        </script>
    </mip-data>

    <!-- <mip-complevel1 m-bind:userinfo="userInfo"></mip-complevel1> -->

    <div class="main-content">
        <p>group.info.name (a global state shared from index.html):
        <span m-text="group.info.name" style="color: red;"></span>
        </p>
        <div on="tap:MIP.setData({group:{info:{name:'sfe2018'}}})" class="button">click change global group.info.name</div>

        <br><br>
        <h1 m-text="title" style="margin-left: 20px;"></h1>

        <p m-text="size.small"></p>
        <div on="tap:MIP.setData({size:{small:2}})" class="button">click change size.small</div>

        <p m-text="num"></p>
        <div on="tap:MIP.setData({num:2})" class="button">click change num</div>

        <p m-text="sp.three"></p>
        <div on="tap:MIP.setData({sp:{three:'¥0'}})" class="button">click change sp.three</div>

        <p m-text="comments"></p>
        <div on="tap:MIP.setData({comments:'ckkk'})" class="button">click change comments</div>

        <p m-text="img.first"></p>
        <div on="tap:MIP.setData({img:{first:1}})" class="button">click change img.first</div>

        <mip-data>
            <script type="application/json">
            {
                "price": 20
            }
            </script>
        </mip-data>
        <p>
            DOM.value*m.price =
            <span m-text="price"></span>
        </p>
        <mip-form url="https://www.mipengine.org/" class="button">
            <input type='text' on="change:MIP.setData({price:DOM.value*m.price})" style="width:150px;">
        </mip-form>

        <br><br>
        <a href="./index.html" class="link" mip-link>Back to Index</a>
    </div>

    <mip-shell>
        <script type="application/json">
        {
            "routes": [
                {
                    "pattern": "/tree.html",
                    "meta": {
                        "header": {}
                    }
                },
                {
                    "pattern": "/data.html",
                    "meta": {
                        "header": {
                            "show": true,
                            "title": "蓝犀牛数据",
                            "logo": "http://boscdn.bpc.baidu.com/assets/mip2/lanxiniu/logo.png",
                            "xiongzhang": true
                        }
                    }
                },
                {
                    "pattern": "*",
                    "meta": {
                        "header": {
                            "show": true,
                            "title": "蓝犀牛",
                            "logo": "http://boscdn.bpc.baidu.com/assets/mip2/lanxiniu/logo.png",
                            "xiongzhang": true,
                            "buttonGroup": [
                                {
                                    "type": "button",
                                    "name": "subscribe",
                                    "text": "关注",
                                    "link": "/examples/page/tree.html"
                                },
                                {
                                    "type": "button",
                                    "name": "chat",
                                    "text": "发消息",
                                    "outline": true
                                },
                                {
                                    "type": "icon",
                                    "name": "search",
                                    "text": "search",
                                    "link": "/examples/page/tree.html"
                                },
                                {
                                    "type": "dropdown",
                                    "items": [
                                        {
                                            "name": "subscribe",
                                            "text": "关注",
                                            "link": "/examples/page/tree.html"
                                        },
                                        {
                                            "name": "chat",
                                            "text": "发消息"
                                        }
                                    ]
                                }
                            ]
                        },
                        "view": {
                            "isIndex": true,
                            "transition": {
                                "mode": "slide"
                            }
                        },
                        "footer": {}
                    }
                }
            ]
        }
        </script>
    </mip-shell>

    <script type="application/mip-script">
        MIP.watch('num', function () {
            console.log('num changed callback')
            MIP.setData({
                title: 'ckkkk changing num'
            });
        });
        MIP.watch('sp.three', function () {
            console.log('sp.three')
            MIP.setData({
                title: 'ckkkk changing sp.three'
            });
        });
        MIP.watch('comments', function () {
            console.log('comments')
            MIP.setData({
                title: 'ckkkk changing comments'
            });
        });
        MIP.watch(['basePrice', 'img.first'], function () {
            console.log('multi')
            MIP.setData({
                title: 'ckkkk changing multi'
            });
        });
        MIP.watch(['userInfo', 'userInfo.name'], function (newVal, oldVal) {
            console.log('userInfo', newVal, oldVal);
        });
    </script>
    <script src="../../dist/mip.js"></script>
    <script src="./components/mip-complevel2.js"></script>
    <script src="./components/mip-complevel1.js"></script>
    <script src="https://c.mipcdn.com/static/v1/mip-form/mip-form.js"></script>
</body>
